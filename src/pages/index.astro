---
import ArticleItems from '~/components/article-items.astro';
import EventItems from '~/components/event-items.astro';
import TestimonyItems from '~/components/testimony-items.astro';
import { getGeneralKnowledgeData } from '~/server/api';
import Layout from '../layouts/layout.astro';

// DATA ====================================================================================================================================
const data = await getGeneralKnowledgeData();
const {article, events, layout, testimonies} = data;
---

<Layout {...layout}>
  <ArticleItems items={[article]} title="Bienvenue" border="top" cImage="max-w-xs" cImageImg="aspect-none" />
  <EventItems items={events} intent="light" />
  <TestimonyItems items={testimonies} />
  <ArticleItems items={[layout.organization]} border="bottom" intent="primary" />
</Layout>
