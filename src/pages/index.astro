---
import ArticleItems from '~/components/article-items.astro';
import EventItems from '~/components/event-items.astro';
import TestimonySection from '~/components/testimony-section.astro';
import { getGeneralKnowledgeData } from '~/server/api';
import Layout from '../layouts/layout.astro';

// DATA ====================================================================================================================================
const data = await getGeneralKnowledgeData();
const {article, events, layout, testimonies} = data;
---

<Layout {...layout}>
  <ArticleItems items={[{...article, title: 'Bienvenue'}]} border="top" cAside="!max-w-sm" />
  <EventItems items={events} intent="light" />
  <TestimonySection testimonies={testimonies} />
  <ArticleItems items={[layout.organization]} border="bottom" intent="primary" />
</Layout>
